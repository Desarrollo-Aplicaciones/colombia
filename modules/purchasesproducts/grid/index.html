<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>grilla</title>
    <link id="themecss" rel="stylesheet" type="text/css" href="css/light-mint/all.min.css" />
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script type="text/javascript" src="js/shieldui-all.min.js"></script>
</head>
<body class="theme-light">
<script src="gridData.js"></script>
<script type="text/javascript">
    jQuery(function ($) {
        $("#grid").shieldGrid({
            dataSource: {
                data: gridData,
                schema: {
                    fields: {
                        id: { type: Number },
                        name: { type: String },
                        company: { type: String },
                        phone: { type: String },
                        age: { type: Number },
                        gender: { type: String }
                    }
                }
               
            },
            
            paging: true,
            columns: [
                { field: "id", width: "250px", title: "ID" },
                { field: "name", title: "Person Name", width: "250px" },
                { field: "company", title: "Company" },
                { field: "phone", title: "Phone", width: "250px" },
                { field: "age", title: "Age" },
                { field: "gender", title: "Gender [Custom filter]", customFilter: myCustomFilter }
            ],
            events: {
                filterWidgetCreating: function (e) {
                    if (e.field === "id") {
                        e.options = { max: 1000 };
                    }
                    if (e.field === "age") {
                        e.options = { min: 1 };
                    }
                }
            }
        });
    });
    // Calback function which creates dropdown and insert it into the filtered cell. 
    function myCustomFilter(cell) {
        $('<div id="customDropDown"/>')
            .appendTo(cell)
            .shieldDropDown({
                dataSource: {
                    data: ["all", "male", "female"]
                },
                events:
                    {
                        select: function (e) {
                            if (e.item != "all") {
                                // Manually filter the grid by gender field with equals to function and selected value in the dropdown.
                                $("#grid").swidget().filter({ path: "gender", filter: "eq", value: e.item });
                            }
                            else {
                                // Filter by not null values - will return all values - male and female.
                                $("#grid").swidget().filter({ path: "gender", filter: "notnull", value: "" });
                            }
                        }
                    }
            });
    }
</script>

<div id="grid"></div>


<style>
    .sui-filter-cell:last-child button {
        display: none;
    }
</style>
</body>
</html>